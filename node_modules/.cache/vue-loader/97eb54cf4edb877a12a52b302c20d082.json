{"remainingRequest":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\专高二\\vue\\demo\\src\\views\\admintitle\\AddTitle.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\专高二\\vue\\demo\\src\\views\\admintitle\\AddTitle.vue","mtime":1633776981969},{"path":"D:\\专高二\\vue\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRnV3ZW5iZW4gZnJvbSAiY29tcG9uZW50cy9jb250ZW50L3RpbnltY2UtZWRpdG9yL2luZGV4IjsNCmltcG9ydCBTZWxlY3RUcmVlIGZyb20gImNvbXBvbmVudHMvY29udGVudC90cmVlc2VsZWN0L3RyZWVTZWxlY3QiOw0KaW1wb3J0IHsgZ2V0dGl0bGUxIH0gZnJvbSAibmV0d29yay90eXBldGl0bGUiOw0KaW1wb3J0IHNob3cgZnJvbSAiLi9zaG93LnZ1ZSI7DQppbXBvcnQgYnVzIGZyb20gImFzc2V0cy9qcy9idXMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRpdGxldGlueW1jZTogZmFsc2UsDQogICAgICAvL3RhYuagh+etvum7mOiupOa4suafk+WHuumhtemdog0KICAgICAgYWN0aXZlTmFtZTogImZpcnN0IiwNCiAgICAgIHR5cGV0aXRsZTogIuivlemimOexu+WeiyIsDQogICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgIC8v6K+V6aKY57G75Z6L6KGo5Y2VDQogICAgICB0eXBlb3B0aW9uczogWw0KICAgICAgICB7IHZhbHVlOiAwLCBsYWJlbDogIuWNlemAiemimCIgfSwNCiAgICAgICAgeyB2YWx1ZTogMSwgbGFiZWw6ICLlpJrpgInpopgiIH0sDQogICAgICAgIHsgdmFsdWU6IDIsIGxhYmVsOiAi5Yik5pat6aKYIiB9LA0KICAgICAgICB7IHZhbHVlOiAzLCBsYWJlbDogIuWhq+epuumimCIgfSwNCiAgICAgICAgeyB2YWx1ZTogNCwgbGFiZWw6ICLpl67nrZTpopgiIH0sDQogICAgICAgIHsgdmFsdWU6IDUsIGxhYmVsOiAi57uE5ZCI6aKYIiwgZGlzYWJsZWQ6IGZhbHNlIH0sDQogICAgICAgIHsgdmFsdWU6IDYsIGxhYmVsOiAi5b2V6Z+z6aKYIiwgZGlzYWJsZWQ6IGZhbHNlIH0sDQogICAgICBdLA0KICAgICAgdHlwZWZvcm06IDEsDQogICAgICAvL+ivlemimOmavuW6puihqOWNlQ0KICAgICAgZGlmZmljdWx0eW9wdGlvbnM6IFsNCiAgICAgICAgeyB2YWx1ZTogMCwgbGFiZWw6ICLnroDljZUiIH0sDQogICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiAi5pmu6YCaIiB9LA0KICAgICAgICB7IHZhbHVlOiAyLCBsYWJlbDogIuWbsOmaviIgfSwNCiAgICAgIF0sDQogICAgICBkaWZmaWN1bHR5Zm9ybTogMCwNCiAgICAgIC8v5a+M5paH5pys57yW6L6R5ZmoICDlj4zlkJHnu5HlrprlgLwNCiAgICAgIHRpdGxldmFsdWU6ICIiLA0KICAgICAgLy/nrKzkuInmlrnmoJHnirbnu4Tku7bmlbDmja7phY3nva4NCiAgICAgIGlzQ2xlYXJhYmxlOiB0cnVlLCAvLyDlj6/muIXnqbrvvIjlj6/pgInvvIkNCiAgICAgIGlzQWNjb3JkaW9uOiBmYWxzZSwgLy8g5Y+v5pS26LW377yI5Y+v6YCJ77yJDQogICAgICB2YWx1ZUlkOiAxLCAvLyDliJ3lp4tJRO+8iOWPr+mAie+8iQ0KICAgICAgcHJvcHM6IHsNCiAgICAgICAgLy8g6YWN572u6aG577yI5b+F6YCJ77yJDQogICAgICAgIHZhbHVlOiAiaWQiLA0KICAgICAgICAvLyBsYWJlbDogImRlbW9fbmFtZSIsDQogICAgICAgIGxhYmVsOiAibmFtZSIsDQogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLA0KICAgICAgICAvLyBkaXNhYmxlZDp0cnVlDQogICAgICB9LA0KICAgICAgLy8g6YCJ6aG55YiX6KGo77yI5b+F6YCJ77yJDQogICAgICB0cmVlOiBbXSwNCiAgICAgIGxpc3Q6IFtdLA0KICAgICAgLy/mt7vliqDor5XpopgNCiAgICAgIGFkZHBpZDogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDoge30sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXR0aXRsZTEoKTsNCiAgfSwNCiAgdXBkYXRlZCgpIHsNCiAgICBidXMuJGVtaXQoImRpZmYiLCB0aGlzLmRpZmZpY3VsdHlmb3JtKTsNCiAgfSwNCiAgbW91bnRlZCgpIHt9LA0KICB3YXRjaDoge30sDQogIG1ldGhvZHM6IHsNCiAgICAvL+S4i+i9veaooeadvw0KICAgIGRvd25sb2FkKCl7DQogICAgICB0aGlzLiRyZWZzLmRvd25sb2FkLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpDQogICAgfSwNCiAgICBxd2UoKSB7DQogICAgICB0aGlzLnRpdGxldGlueW1jZSA9IHRydWU7DQogICAgfSwNCiAgICBxd2UxKCkgew0KICAgICAgdGhpcy50aXRsZXRpbnltY2UgPSBmYWxzZTsNCiAgICB9LA0KICAgIC8v572R57uc6K+35rGCDQogICAgYXN5bmMgZ2V0dGl0bGUxKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0dGl0bGUxKCk7DQogICAgICB0aGlzLnRyZWUgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgdGhpcy5nZXROb2RlVHJlZSh0aGlzLnRyZWUpOw0KICAgICAgbGV0IG9iaiA9IHt9Ow0KICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LnJlZHVjZSgoaXRlbSwgbmV4dCkgPT4gew0KICAgICAgICBvYmpbbmV4dC5pZF0gPyAiIiA6IChvYmpbbmV4dC5pZF0gPSB0cnVlICYmIGl0ZW0ucHVzaChuZXh0KSk7DQogICAgICAgIHJldHVybiBpdGVtOw0KICAgICAgfSwgW10pOw0KICAgIH0sDQogICAgaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgew0KICAgICAgY29uc29sZS5sb2codGFiLCBldmVudCk7DQogICAgfSwNCiAgICBnZXRwaWQoKSB7DQogICAgICBidXMuJGVtaXQoInF1cGlkIiwgdGhpcy52YWx1ZUlkKTsNCiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOw0KICAgIH0sDQogICAgLy/moJHnirbnu4Tku7YNCiAgICAvLyDlj5blgLwNCiAgICBnZXRWYWx1ZSh2YWx1ZSkgew0KICAgICAgdGhpcy52YWx1ZUlkID0gdmFsdWU7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnZhbHVlSWQpOw0KICAgIH0sDQogICAgZ2V0Tm9kZVRyZWUodHJlZSkgew0KICAgICAgZm9yICh2YXIgaSBpbiB0cmVlKSB7DQogICAgICAgIGlmICh0eXBlb2YgdHJlZVtpXSA9PSAib2JqZWN0Iikgew0KICAgICAgICAgIHRoaXMuZ2V0Tm9kZVRyZWUodHJlZVtpXSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5saXN0LnB1c2goew0KICAgICAgICAgICAgaWQ6IHRyZWVbImlkIl0sDQogICAgICAgICAgICBwYXJlbnRJZDogdHJlZVsicGlkIl0sDQogICAgICAgICAgICBuYW1lOiB0cmVlWyJkZW1vX25hbWUiXSwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBGdXdlbmJlbiwNCiAgICBTZWxlY3RUcmVlLA0KICAgIHNob3csDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLyog6L2s5qCR5b2i5pWw5o2uICovDQogICAgb3B0aW9uRGF0YSgpIHsNCiAgICAgIGxldCBjbG9uZURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubGlzdCkpOyAvLyDlr7nmupDmlbDmja7mt7HluqblhYvpmoYNCiAgICAgIHJldHVybiBjbG9uZURhdGEuZmlsdGVyKChmYXRoZXIpID0+IHsNCiAgICAgICAgLy8g5b6q546v5omA5pyJ6aG577yM5bm25re75YqgY2hpbGRyZW7lsZ7mgKcNCiAgICAgICAgbGV0IGJyYW5jaEFyciA9IGNsb25lRGF0YS5maWx0ZXIoKGNoaWxkKSA9PiB7DQogICAgICAgICAgcmV0dXJuIGZhdGhlci5pZCA9PSBjaGlsZC5wYXJlbnRJZDsNCiAgICAgICAgfSk7IC8vIOi/lOWbnuavj+S4gOmhueeahOWtkOe6p+aVsOe7hA0KICAgICAgICBicmFuY2hBcnIubGVuZ3RoID4gMCA/IChmYXRoZXIuY2hpbGRyZW4gPSBicmFuY2hBcnIpIDogIiI7IC8v57uZ54i257qn5re75Yqg5LiA5LiqY2hpbGRyZW7lsZ7mgKfvvIzlubbotYvlgLwNCiAgICAgICAgcmV0dXJuIGZhdGhlci5wYXJlbnRJZCA9PSAwOyAvL+i/lOWbnuesrOS4gOWxgg0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["AddTitle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddTitle.vue","sourceRoot":"src/views/admintitle","sourcesContent":["<template>\r\n      \r\n  <div class=\"addtitle\">\r\n    <el-tabs type=\"border-card\" v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <el-tab-pane label=\"批量录入\" name=\"first\">\r\n        <el-button size=\"medium\" @click=\"download\">\r\n          下载模板\r\n        </el-button>\r\n        <a ref=\"download\" style=\"display:none\" href=\"../../public/考试星-试题模版.xls\"></a>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"手动录入\" name=\"second\">\r\n        <div>\r\n          <div class=\"top-option\">\r\n            <div class=\"top-option-item\">\r\n              <span>试题分类</span>\r\n\r\n              <el-popover width=\"300\" transition=\"false\" v-model=\"visible\">\r\n                <SelectTree\r\n                  :props=\"props\"\r\n                  :options=\"optionData\"\r\n                  :value=\"valueId\"\r\n                  :clearable=\"isClearable\"\r\n                  :accordion=\"isAccordion\"\r\n                  @getValue=\"getValue($event)\"\r\n                />\r\n                <div style=\"text-align: right; margin: 0\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"visible = false\"\r\n                    >取消</el-button\r\n                  >\r\n                  <el-button type=\"primary\" size=\"mini\" @click=\"getpid\"\r\n                    >确定</el-button\r\n                  >\r\n                </div>\r\n                <el-button slot=\"reference\" size=\"mini\">试题分类</el-button>\r\n              </el-popover>\r\n            </div>\r\n            <div class=\"top-option-item\">\r\n              <span>试题类型</span>\r\n              <el-select\r\n                v-model=\"typeform\"\r\n                size=\"mini\"\r\n                class=\"topselect\"\r\n                style=\"width: 100px\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in typeoptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div class=\"top-option-item\">\r\n              <span>试题难度</span>\r\n              <el-select v-model=\"difficultyform\" class=\"topselect\" size=\"mini\">\r\n                <el-option\r\n                  v-for=\"item in difficultyoptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n          <div class=\"showheight\">\r\n            <show :shownum=\"typeform\"></show>\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"AI录入\" name=\"third\">AI录入</el-tab-pane>\r\n    </el-tabs>\r\n        \r\n  </div>\r\n</template>\r\n<script>\r\nimport Fuwenben from \"components/content/tinymce-editor/index\";\r\nimport SelectTree from \"components/content/treeselect/treeSelect\";\r\nimport { gettitle1 } from \"network/typetitle\";\r\nimport show from \"./show.vue\";\r\nimport bus from \"assets/js/bus\";\r\nexport default {\r\n  props: {},\r\n  data() {\r\n    return {\r\n      titletinymce: false,\r\n      //tab标签默认渲染出页面\r\n      activeName: \"first\",\r\n      typetitle: \"试题类型\",\r\n      visible: false,\r\n      //试题类型表单\r\n      typeoptions: [\r\n        { value: 0, label: \"单选题\" },\r\n        { value: 1, label: \"多选题\" },\r\n        { value: 2, label: \"判断题\" },\r\n        { value: 3, label: \"填空题\" },\r\n        { value: 4, label: \"问答题\" },\r\n        { value: 5, label: \"组合题\", disabled: false },\r\n        { value: 6, label: \"录音题\", disabled: false },\r\n      ],\r\n      typeform: 1,\r\n      //试题难度表单\r\n      difficultyoptions: [\r\n        { value: 0, label: \"简单\" },\r\n        { value: 1, label: \"普通\" },\r\n        { value: 2, label: \"困难\" },\r\n      ],\r\n      difficultyform: 0,\r\n      //富文本编辑器  双向绑定值\r\n      titlevalue: \"\",\r\n      //第三方树状组件数据配置\r\n      isClearable: true, // 可清空（可选）\r\n      isAccordion: false, // 可收起（可选）\r\n      valueId: 1, // 初始ID（可选）\r\n      props: {\r\n        // 配置项（必选）\r\n        value: \"id\",\r\n        // label: \"demo_name\",\r\n        label: \"name\",\r\n        children: \"children\",\r\n        // disabled:true\r\n      },\r\n      // 选项列表（必选）\r\n      tree: [],\r\n      list: [],\r\n      //添加试题\r\n      addpid: null,\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.gettitle1();\r\n  },\r\n  updated() {\r\n    bus.$emit(\"diff\", this.difficultyform);\r\n  },\r\n  mounted() {},\r\n  watch: {},\r\n  methods: {\r\n    //下载模板\r\n    download(){\r\n      this.$refs.download.dispatchEvent(new MouseEvent('click'))\r\n    },\r\n    qwe() {\r\n      this.titletinymce = true;\r\n    },\r\n    qwe1() {\r\n      this.titletinymce = false;\r\n    },\r\n    //网络请求\r\n    async gettitle1() {\r\n      const res = await gettitle1();\r\n      this.tree = res.data.data;\r\n      this.getNodeTree(this.tree);\r\n      let obj = {};\r\n      this.list = this.list.reduce((item, next) => {\r\n        obj[next.id] ? \"\" : (obj[next.id] = true && item.push(next));\r\n        return item;\r\n      }, []);\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event);\r\n    },\r\n    getpid() {\r\n      bus.$emit(\"qupid\", this.valueId);\r\n      this.visible = false;\r\n    },\r\n    //树状组件\r\n    // 取值\r\n    getValue(value) {\r\n      this.valueId = value;\r\n      // console.log(this.valueId);\r\n    },\r\n    getNodeTree(tree) {\r\n      for (var i in tree) {\r\n        if (typeof tree[i] == \"object\") {\r\n          this.getNodeTree(tree[i]);\r\n        } else {\r\n          this.list.push({\r\n            id: tree[\"id\"],\r\n            parentId: tree[\"pid\"],\r\n            name: tree[\"demo_name\"],\r\n          });\r\n        }\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    Fuwenben,\r\n    SelectTree,\r\n    show,\r\n  },\r\n  computed: {\r\n    /* 转树形数据 */\r\n    optionData() {\r\n      let cloneData = JSON.parse(JSON.stringify(this.list)); // 对源数据深度克隆\r\n      return cloneData.filter((father) => {\r\n        // 循环所有项，并添加children属性\r\n        let branchArr = cloneData.filter((child) => {\r\n          return father.id == child.parentId;\r\n        }); // 返回每一项的子级数组\r\n        branchArr.length > 0 ? (father.children = branchArr) : \"\"; //给父级添加一个children属性，并赋值\r\n        return father.parentId == 0; //返回第一层\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.addtitle {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.topselect {\r\n  width: 80px;\r\n\r\n  border: 1px solid blue;\r\n  border-radius: 5px;\r\n}\r\n.topselect1:first {\r\n  width: 100px;\r\n}\r\n\r\n.top-option {\r\n  width: 60%;\r\n  display: flex;\r\n  height: 50px;\r\n}\r\n.top-option-item {\r\n  padding: 10px;\r\n  flex: 1;\r\n}\r\n.top-option-item span {\r\n  margin-right: 40px;\r\n}\r\n</style>\r\n"]}]}