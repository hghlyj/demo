{"remainingRequest":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\专高二\\vue\\demo\\src\\views\\HomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\专高二\\vue\\demo\\src\\views\\HomePage.vue","mtime":1633768366794},{"path":"D:\\专高二\\vue\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXR0aXRsZTEsIGdldHRpdGxlMixkZWxlLCBlZGl0LCBhZGQgfSBmcm9tICJuZXR3b3JrL3R5cGV0aXRsZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7fSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8gICAgIOesrOS4ieaWueagkeeKtuaPkuS7tg0KICAgICAgY2F0ZUxpc3Q6IFtdLA0KICAgICAgZmVuY2F0ZUxpc3Q6W10sDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIHsgbGFiZWw6ICLliIbnsbvlkI3np7AiLCBwcm9wOiAiZGVtb19uYW1lIiB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICLmmK/lkKbmnInmlYgiLA0KICAgICAgICAgIHByb3A6ICJlZmZlY3RpdmUiLA0KICAgICAgICAgIHR5cGU6ICJ0ZW1wbGF0ZSIsDQogICAgICAgICAgdGVtcGxhdGU6ICJpc29rIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAi5YiG57G7562J57qnIiwNCiAgICAgICAgICBwcm9wOiAibGV2ZWwiLA0KICAgICAgICAgIHR5cGU6ICJ0ZW1wbGF0ZSIsDQogICAgICAgICAgdGVtcGxhdGU6ICJsZXZlbCIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIuaTjeS9nCIsDQogICAgICAgICAgdHlwZTogInRlbXBsYXRlIiwNCiAgICAgICAgICB0ZW1wbGF0ZTogIm9wdCIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgLy8gICAgICAg5Yig6Zmk5LiO5L+u5pS5DQogICAgICBkaWFsb2c6IGZhbHNlLA0KICAgICAgZGlhbG9nMjogZmFsc2UsDQogICAgICBlZGl0aW5mbzoge30sDQogICAgICAvLyAgICAgICDmt7vliqANCiAgICAgIGRlbW9fbmFtZTogIiIsDQogICAgICAvLyDogZTnuqfpgInmi6nlmagNCiAgICAgIHBpZDogMCwNCiAgICAgIHByb3BzOiB7DQogICAgICAgIHZhbHVlOiAiaWQiLA0KICAgICAgICBsYWJlbDogImRlbW9fbmFtZSIsDQogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLA0KICAgICAgICBjaGVja1N0cmljdGx5OiB0cnVlLA0KICAgICAgfSwNCiAgICAgIC8v5YiG6aG1DQogICAgICBjb3VudDowLA0KICAgICAgc2l6ZTo1LA0KICAgICAgY3VycmVudFBhZ2U6MSwNCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAiMTIwcHgiLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldHRpdGxlMigpOw0KICAgIHRoaXMuZ2V0dGl0bGUxKCk7DQogIH0sDQogIG1vdW50ZWQoKSB7fSwNCiAgd2F0Y2g6IHt9LA0KICBtZXRob2RzOiB7DQogICAgLy8gICAg5YiG6aG1DQogICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgICB0aGlzLnNpemU9dmFsDQogICAgICAgIHRoaXMuZ2V0dGl0bGUyKCkNCiAgICAgIH0sDQogICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlPXZhbA0KICAgICAgICB0aGlzLmdldHRpdGxlMigpDQogICAgICB9LA0KICAgIC8vICAgICDojrflj5bnsbvliKvmlbDmja4gICjliIbpobUpDQogICAgYXN5bmMgZ2V0dGl0bGUyKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0dGl0bGUyKHsnc2l6ZSc6dGhpcy5zaXplLCdwYWdlJzp0aGlzLmN1cnJlbnRQYWdlfSk7DQogICAgICB0aGlzLmZlbmNhdGVMaXN0ID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgdGhpcy5jb3VudD1yZXMuZGF0YS5jb3VudA0KICAgIH0sDQogICAgLy8gICAgIOiOt+WPluexu+WIq+aVsOaNriAgKOS4jeWIhumhtSkNCiAgICBhc3luYyBnZXR0aXRsZTEoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXR0aXRsZTEoKTsNCiAgICAgIHRoaXMuY2F0ZUxpc3QgPSByZXMuZGF0YS5kYXRhOw0KDQogICAgfSwNCiAgICAvLyAgICAg5re75Yqg57G75YirDQogICAgYXN5bmMgYWRkdHlwZSgpIHsNCiAgICAgIHZhciBjYXRfbmFtZSA9IHRoaXMuZGVtb19uYW1lOw0KICAgICAgdmFyIGNhdF9waWQgPSAwOw0KICAgICAgdmFyIGNhdF9sZXZlbCA9IDE7DQogICAgICBpZiAodGhpcy5waWQubGVuZ3RoID4gMCkgew0KICAgICAgICBjYXRfcGlkID0gdGhpcy5waWRbdGhpcy5waWQubGVuZ3RoIC0gMV07DQogICAgICAgIGNhdF9sZXZlbCA9IHRoaXMucGlkLmxlbmd0aCArIDE7DQogICAgICB9DQogICAgICBjb25zdCByZXM9YXdhaXQgYWRkKHsgY2F0X25hbWUsIGNhdF9waWQsIGNhdF9sZXZlbCB9KTsNCiAgICAgIHRoaXMuJG1lc3NhZ2UocmVzLmRhdGEuc3RhdHVzKTsNCiAgICAgIHRoaXMuZGlhbG9nID0gIXRoaXMuZGlhbG9nOw0KICAgICAgdGhpcy5nZXR0aXRsZTIoKTsNCiAgICAgIHRoaXMuZ2V0dGl0bGUxKCk7DQogICAgfSwNCiAgICAvLyAgICAg5by55Ye65L+u5pS55a+56K+d5qGGDQogICAgdXBkYXRlKHJvdykgew0KICAgICAgdGhpcy5kaWFsb2cyID0gIXRoaXMuZGlhbG9nMjsNCiAgICAgIHRoaXMuZWRpdGluZm8gPSByb3c7DQogICAgfSwNCiAgICAvLyAgICAg5L+u5pS55LiA5p2h5pWw5o2uDQogICAgYXN5bmMgbGFzdGVkaXQoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBlZGl0KHRoaXMuZWRpdGluZm8pOw0KICAgICAgdGhpcy4kbWVzc2FnZShyZXMuZGF0YS5zdGF0dXMpOw0KICAgICAgdGhpcy5kaWFsb2cyID0gIXRoaXMuZGlhbG9nMjsNCiAgICAgIHRoaXMuZ2V0dGl0bGUyKCk7DQogICAgICB0aGlzLmdldHRpdGxlMSgpDQogICAgfSwNCiAgICAvLyAgICAg5Yig6Zmk5LiA5p2h5pWw5o2uDQogICAgYXN5bmMgZGVsKGludCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZShpbnQpOw0KICAgICAgdGhpcy4kbWVzc2FnZShyZXMuZGF0YS5zdGF0dXMpOw0KICAgICAgdGhpcy5nZXR0aXRsZTIoKTsNCiAgICAgICAgICAgIHRoaXMuZ2V0dGl0bGUxKCk7DQogICAgfSwNCiAgfSwNCiAgY29tcG9uZW50czoge30sDQp9Ow0K"},{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n      \r\n  <div class=\"homepage\">\r\n    <!-- 添加分类 对话框-->\r\n    <el-button type=\"primary\" @click=\"dialog = true\">添加类别</el-button>\r\n\r\n    <el-dialog title=\"添加类别\" :visible.sync=\"dialog\" width=\"30%\">\r\n      <el-form>\r\n        <el-form-item label=\"分类名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"demo_name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"父级分类\" :label-width=\"formLabelWidth\">\r\n          <el-cascader v-model=\"pid\" :options=\"cateList\" :props=\"props\">\r\n          </el-cascader>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addtype\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 编辑分类 对话框-->\r\n\r\n    <el-dialog title=\"编辑类别\" :visible.sync=\"dialog2\" width=\"30%\">\r\n      <el-form :model=\"editinfo\">\r\n        <el-form-item label=\"活动名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"editinfo.demo_name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialog2 = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"lastedit\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 第三方树状组件 -->\r\n    <tree-table\r\n      class=\"tb-cate\"\r\n      index-text=\"#\"\r\n      show-index\r\n      stripe\r\n      border\r\n      :data=\"fencateList\"\r\n      :columns=\"columns\"\r\n      :expand-type=\"false\"\r\n      :selection-type=\"false\"\r\n    >\r\n      <template slot=\"isok\" slot-scope=\"scope\">\r\n        <i class=\"el-icon-success\" style=\"color: lightGreen\"></i>\r\n      </template>\r\n      <template slot=\"level\" scope=\"scope\">\r\n        <el-tag\r\n          type=\"primary\"\r\n          effect=\"plain\"\r\n          size=\"mini\"\r\n          v-if=\"scope.row.level === 1\"\r\n          >一级</el-tag\r\n        >\r\n        <el-tag\r\n          type=\"success\"\r\n          effect=\"plain\"\r\n          size=\"mini\"\r\n          v-else-if=\"scope.row.level === 2\"\r\n          >二级</el-tag\r\n        >\r\n        <el-tag type=\"warning\" effect=\"plain\" size=\"mini\" v-else>三级</el-tag>\r\n      </template>\r\n      <template slot=\"opt\" scope=\"scope\">\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-edit\"\r\n          size=\"mini\"\r\n          @click=\"update(scope.row)\"\r\n          >编辑</el-button\r\n        >\r\n        <el-button\r\n          type=\"danger\"\r\n          icon=\"el-icon-delete\"\r\n          size=\"mini\"\r\n          @click=\"del(scope.row.id)\"\r\n          >删除</el-button\r\n        >\r\n      </template>\r\n    </tree-table>\r\n        \r\n\r\n    <!--分页-->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[5, 10, 15, 20]\"\r\n      :page-size=\"size\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"count\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { gettitle1, gettitle2,dele, edit, add } from \"network/typetitle\";\r\nexport default {\r\n  props: {},\r\n  data() {\r\n    return {\r\n      //     第三方树状插件\r\n      cateList: [],\r\n      fencateList:[],\r\n      columns: [\r\n        { label: \"分类名称\", prop: \"demo_name\" },\r\n        {\r\n          label: \"是否有效\",\r\n          prop: \"effective\",\r\n          type: \"template\",\r\n          template: \"isok\",\r\n        },\r\n        {\r\n          label: \"分类等级\",\r\n          prop: \"level\",\r\n          type: \"template\",\r\n          template: \"level\",\r\n        },\r\n        {\r\n          label: \"操作\",\r\n          type: \"template\",\r\n          template: \"opt\",\r\n        },\r\n      ],\r\n      //       删除与修改\r\n      dialog: false,\r\n      dialog2: false,\r\n      editinfo: {},\r\n      //       添加\r\n      demo_name: \"\",\r\n      // 联级选择器\r\n      pid: 0,\r\n      props: {\r\n        value: \"id\",\r\n        label: \"demo_name\",\r\n        children: \"children\",\r\n        checkStrictly: true,\r\n      },\r\n      //分页\r\n      count:0,\r\n      size:5,\r\n      currentPage:1,\r\n      formLabelWidth: \"120px\",\r\n    };\r\n  },\r\n  computed: {},\r\n  async created() {\r\n    this.gettitle2();\r\n    this.gettitle1();\r\n  },\r\n  mounted() {},\r\n  watch: {},\r\n  methods: {\r\n    //    分页\r\n      handleSizeChange(val) {\r\n              this.size=val\r\n        this.gettitle2()\r\n      },\r\n      handleCurrentChange(val) {\r\n              this.currentPage=val\r\n        this.gettitle2()\r\n      },\r\n    //     获取类别数据  (分页)\r\n    async gettitle2() {\r\n      const res = await gettitle2({'size':this.size,'page':this.currentPage});\r\n      this.fencateList = res.data.data;\r\n        this.count=res.data.count\r\n    },\r\n    //     获取类别数据  (不分页)\r\n    async gettitle1() {\r\n      const res = await gettitle1();\r\n      this.cateList = res.data.data;\r\n\r\n    },\r\n    //     添加类别\r\n    async addtype() {\r\n      var cat_name = this.demo_name;\r\n      var cat_pid = 0;\r\n      var cat_level = 1;\r\n      if (this.pid.length > 0) {\r\n        cat_pid = this.pid[this.pid.length - 1];\r\n        cat_level = this.pid.length + 1;\r\n      }\r\n      const res=await add({ cat_name, cat_pid, cat_level });\r\n      this.$message(res.data.status);\r\n      this.dialog = !this.dialog;\r\n      this.gettitle2();\r\n      this.gettitle1();\r\n    },\r\n    //     弹出修改对话框\r\n    update(row) {\r\n      this.dialog2 = !this.dialog2;\r\n      this.editinfo = row;\r\n    },\r\n    //     修改一条数据\r\n    async lastedit() {\r\n      const res = await edit(this.editinfo);\r\n      this.$message(res.data.status);\r\n      this.dialog2 = !this.dialog2;\r\n      this.gettitle2();\r\n      this.gettitle1()\r\n    },\r\n    //     删除一条数据\r\n    async del(int) {\r\n      const res = await dele(int);\r\n      this.$message(res.data.status);\r\n      this.gettitle2();\r\n            this.gettitle1();\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n</style>\r\n"]}]}