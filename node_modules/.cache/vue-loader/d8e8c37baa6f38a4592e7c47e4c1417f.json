{"remainingRequest":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\专高二\\vue\\demo\\src\\views\\admintitle\\AddTitle.vue?vue&type=style&index=0&id=35bba493&scoped=true&lang=less&","dependencies":[{"path":"D:\\专高二\\vue\\demo\\src\\views\\admintitle\\AddTitle.vue","mtime":1633776981969},{"path":"D:\\专高二\\vue\\demo\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmFkZHRpdGxlIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCn0NCg0KLnRvcHNlbGVjdCB7DQogIHdpZHRoOiA4MHB4Ow0KDQogIGJvcmRlcjogMXB4IHNvbGlkIGJsdWU7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCi50b3BzZWxlY3QxOmZpcnN0IHsNCiAgd2lkdGg6IDEwMHB4Ow0KfQ0KDQoudG9wLW9wdGlvbiB7DQogIHdpZHRoOiA2MCU7DQogIGRpc3BsYXk6IGZsZXg7DQogIGhlaWdodDogNTBweDsNCn0NCi50b3Atb3B0aW9uLWl0ZW0gew0KICBwYWRkaW5nOiAxMHB4Ow0KICBmbGV4OiAxOw0KfQ0KLnRvcC1vcHRpb24taXRlbSBzcGFuIHsNCiAgbWFyZ2luLXJpZ2h0OiA0MHB4Ow0KfQ0K"},{"version":3,"sources":["AddTitle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddTitle.vue","sourceRoot":"src/views/admintitle","sourcesContent":["<template>\r\n      \r\n  <div class=\"addtitle\">\r\n    <el-tabs type=\"border-card\" v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <el-tab-pane label=\"批量录入\" name=\"first\">\r\n        <el-button size=\"medium\" @click=\"download\">\r\n          下载模板\r\n        </el-button>\r\n        <a ref=\"download\" style=\"display:none\" href=\"../../public/考试星-试题模版.xls\"></a>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"手动录入\" name=\"second\">\r\n        <div>\r\n          <div class=\"top-option\">\r\n            <div class=\"top-option-item\">\r\n              <span>试题分类</span>\r\n\r\n              <el-popover width=\"300\" transition=\"false\" v-model=\"visible\">\r\n                <SelectTree\r\n                  :props=\"props\"\r\n                  :options=\"optionData\"\r\n                  :value=\"valueId\"\r\n                  :clearable=\"isClearable\"\r\n                  :accordion=\"isAccordion\"\r\n                  @getValue=\"getValue($event)\"\r\n                />\r\n                <div style=\"text-align: right; margin: 0\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"visible = false\"\r\n                    >取消</el-button\r\n                  >\r\n                  <el-button type=\"primary\" size=\"mini\" @click=\"getpid\"\r\n                    >确定</el-button\r\n                  >\r\n                </div>\r\n                <el-button slot=\"reference\" size=\"mini\">试题分类</el-button>\r\n              </el-popover>\r\n            </div>\r\n            <div class=\"top-option-item\">\r\n              <span>试题类型</span>\r\n              <el-select\r\n                v-model=\"typeform\"\r\n                size=\"mini\"\r\n                class=\"topselect\"\r\n                style=\"width: 100px\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in typeoptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div class=\"top-option-item\">\r\n              <span>试题难度</span>\r\n              <el-select v-model=\"difficultyform\" class=\"topselect\" size=\"mini\">\r\n                <el-option\r\n                  v-for=\"item in difficultyoptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n          <div class=\"showheight\">\r\n            <show :shownum=\"typeform\"></show>\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"AI录入\" name=\"third\">AI录入</el-tab-pane>\r\n    </el-tabs>\r\n        \r\n  </div>\r\n</template>\r\n<script>\r\nimport Fuwenben from \"components/content/tinymce-editor/index\";\r\nimport SelectTree from \"components/content/treeselect/treeSelect\";\r\nimport { gettitle1 } from \"network/typetitle\";\r\nimport show from \"./show.vue\";\r\nimport bus from \"assets/js/bus\";\r\nexport default {\r\n  props: {},\r\n  data() {\r\n    return {\r\n      titletinymce: false,\r\n      //tab标签默认渲染出页面\r\n      activeName: \"first\",\r\n      typetitle: \"试题类型\",\r\n      visible: false,\r\n      //试题类型表单\r\n      typeoptions: [\r\n        { value: 0, label: \"单选题\" },\r\n        { value: 1, label: \"多选题\" },\r\n        { value: 2, label: \"判断题\" },\r\n        { value: 3, label: \"填空题\" },\r\n        { value: 4, label: \"问答题\" },\r\n        { value: 5, label: \"组合题\", disabled: false },\r\n        { value: 6, label: \"录音题\", disabled: false },\r\n      ],\r\n      typeform: 1,\r\n      //试题难度表单\r\n      difficultyoptions: [\r\n        { value: 0, label: \"简单\" },\r\n        { value: 1, label: \"普通\" },\r\n        { value: 2, label: \"困难\" },\r\n      ],\r\n      difficultyform: 0,\r\n      //富文本编辑器  双向绑定值\r\n      titlevalue: \"\",\r\n      //第三方树状组件数据配置\r\n      isClearable: true, // 可清空（可选）\r\n      isAccordion: false, // 可收起（可选）\r\n      valueId: 1, // 初始ID（可选）\r\n      props: {\r\n        // 配置项（必选）\r\n        value: \"id\",\r\n        // label: \"demo_name\",\r\n        label: \"name\",\r\n        children: \"children\",\r\n        // disabled:true\r\n      },\r\n      // 选项列表（必选）\r\n      tree: [],\r\n      list: [],\r\n      //添加试题\r\n      addpid: null,\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.gettitle1();\r\n  },\r\n  updated() {\r\n    bus.$emit(\"diff\", this.difficultyform);\r\n  },\r\n  mounted() {},\r\n  watch: {},\r\n  methods: {\r\n    //下载模板\r\n    download(){\r\n      this.$refs.download.dispatchEvent(new MouseEvent('click'))\r\n    },\r\n    qwe() {\r\n      this.titletinymce = true;\r\n    },\r\n    qwe1() {\r\n      this.titletinymce = false;\r\n    },\r\n    //网络请求\r\n    async gettitle1() {\r\n      const res = await gettitle1();\r\n      this.tree = res.data.data;\r\n      this.getNodeTree(this.tree);\r\n      let obj = {};\r\n      this.list = this.list.reduce((item, next) => {\r\n        obj[next.id] ? \"\" : (obj[next.id] = true && item.push(next));\r\n        return item;\r\n      }, []);\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event);\r\n    },\r\n    getpid() {\r\n      bus.$emit(\"qupid\", this.valueId);\r\n      this.visible = false;\r\n    },\r\n    //树状组件\r\n    // 取值\r\n    getValue(value) {\r\n      this.valueId = value;\r\n      // console.log(this.valueId);\r\n    },\r\n    getNodeTree(tree) {\r\n      for (var i in tree) {\r\n        if (typeof tree[i] == \"object\") {\r\n          this.getNodeTree(tree[i]);\r\n        } else {\r\n          this.list.push({\r\n            id: tree[\"id\"],\r\n            parentId: tree[\"pid\"],\r\n            name: tree[\"demo_name\"],\r\n          });\r\n        }\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    Fuwenben,\r\n    SelectTree,\r\n    show,\r\n  },\r\n  computed: {\r\n    /* 转树形数据 */\r\n    optionData() {\r\n      let cloneData = JSON.parse(JSON.stringify(this.list)); // 对源数据深度克隆\r\n      return cloneData.filter((father) => {\r\n        // 循环所有项，并添加children属性\r\n        let branchArr = cloneData.filter((child) => {\r\n          return father.id == child.parentId;\r\n        }); // 返回每一项的子级数组\r\n        branchArr.length > 0 ? (father.children = branchArr) : \"\"; //给父级添加一个children属性，并赋值\r\n        return father.parentId == 0; //返回第一层\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.addtitle {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.topselect {\r\n  width: 80px;\r\n\r\n  border: 1px solid blue;\r\n  border-radius: 5px;\r\n}\r\n.topselect1:first {\r\n  width: 100px;\r\n}\r\n\r\n.top-option {\r\n  width: 60%;\r\n  display: flex;\r\n  height: 50px;\r\n}\r\n.top-option-item {\r\n  padding: 10px;\r\n  flex: 1;\r\n}\r\n.top-option-item span {\r\n  margin-right: 40px;\r\n}\r\n</style>\r\n"]}]}