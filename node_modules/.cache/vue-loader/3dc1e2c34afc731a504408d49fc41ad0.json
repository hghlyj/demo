{"remainingRequest":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\专高二\\vue\\demo\\src\\views\\examination\\administration\\CreateTest.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\专高二\\vue\\demo\\src\\views\\examination\\administration\\CreateTest.vue","mtime":1634199661159},{"path":"D:\\专高二\\vue\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\专高二\\vue\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXR0aXRsZTEgfSBmcm9tICJuZXR3b3JrL3R5cGV0aXRsZSI7DQppbXBvcnQgeyBnZXR0aXRsZSB9IGZyb20gIm5ldHdvcmsvdG9waWMiOw0KaW1wb3J0IHsgYWRkcGFwZXIgfSBmcm9tICJuZXR3b3JrL3BhcGVyIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlbHRhYmxlOiAxLA0KICAgICAgZGlkOiBudWxsLA0KICAgICAgaWQ6IG51bGwsDQogICAgICBkaWFsb2c6IGZhbHNlLA0KICAgICAgZGlhbG9nMTogZmFsc2UsDQogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sDQogICAgICBpZGFsbDogbnVsbCwNCiAgICAgIHRpdGxlaWQ6IFtdLA0KICAgICAgeGlldGltZTogbnVsbCwNCiAgICAgIHN0YXJ0dGltZTogbnVsbCwNCiAgICAgIGVuZHRpbWU6IG51bGwsDQogICAgICBmYW5nc2hpOiAi6YCJ6aKY57uE5Y23IiwNCiAgICAgIHNoaWNhaG5nOiAi5pW05Y236ZmQ5Yi25pe26ZW/IiwNCiAgICAgIGFjdGl2ZTogMCwNCiAgICAgIC8vICAgICAgIOWIm+W7uuivleWNt+aWueW8jyAgICAg5paw5bu66L+Y5piv5LuO6K+V5Y235bqT5Lit6YCJ5oup5LiA5byg6K+V5Y23DQogICAgICByYWRpbzogIjEiLA0KICAgICAgem9uZ3Njb3JlOiAwLA0KICAgICAgamlnZXNjb3JlOiBudWxsLA0KICAgICAgcGFwZXJuYW1lOiBudWxsLA0KICAgICAgdGl0bGVhbGw6IG51bGwsDQogICAgICB0aXRsZWFsbDE6IG51bGwsDQogICAgICBkZWZhdWx0UHJvcHM6IHsNCiAgICAgICAgY2hpbGRyZW46ICJjaGlsZHJlbiIsDQogICAgICAgIGxhYmVsOiAiZGVtb19uYW1lIiwNCiAgICAgIH0sDQogICAgICAvL+esrOS6jOatpQ0KICAgICAgemhhbjogMSwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0dGl0bGUxKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBnZXR0aXRsZTEoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXR0aXRsZTEoKTsNCiAgICAgIHRoaXMudGl0bGVhbGwgPSByZXMuZGF0YS5kYXRhOw0KICAgIH0sDQogICAgaGFuZGxlTm9kZUNsaWNrKHZhbCkgew0KICAgICAgaWYgKHZhbC5sZXZlbCAhPSAzKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UoIuivt+mAieaLqeS4iee6p+WIhuexuyIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLmRpZCA9IHZhbC5pZDsNCiAgICB9LA0KICAgIGh1b3F1KCkgew0KICAgICAgdGhpcy5pZCA9IHRoaXMuZGlkOw0KICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsNCiAgICB9LA0KICAgIGFzeW5jIHRpdGxldHlwZSh0eXBlKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXR0aXRsZSh7IHR5cGU6IHR5cGUgfSk7DQogICAgICB0aGlzLnRpdGxlYWxsMSA9IHJlcy5kYXRhLmxpc3Q7DQogICAgICB0aGlzLmRpYWxvZzEgPSB0cnVlOw0KICAgIH0sDQogICAgaHVvcXUxKCkgew0KICAgICAgaWYgKHRoaXMuaWRhbGwgPT0gbnVsbCkgew0KICAgICAgICB0aGlzLmlkYWxsID0gW107DQogICAgICB9DQoNCiAgICAgIHZhciBuZXdtdWwgPSBbXTsNCiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBpdGVtLnNjb3JlID0gbnVsbDsNCiAgICAgICAgbmV3bXVsLnB1c2goaXRlbSk7DQogICAgICB9KTsNCiAgICAgIHRoaXMuaWRhbGwucHVzaChuZXdtdWwpOw0KICAgICAgdGhpcy5kaWFsb2cxID0gZmFsc2U7DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOw0KICAgIH0sDQogICAgcWllKHZhbCkgew0KICAgICAgdGhpcy5lbHRhYmxlID09IHZhbDsNCiAgICB9LA0KICAgIG5leHQoKSB7DQogICAgICBpZiAodGhpcy5hY3RpdmUrKyA+IDIpIHRoaXMuYWN0aXZlID0gMDsNCiAgICB9LA0KICAgIGppbjEoKSB7DQogICAgICBpZiAodGhpcy5wYXBlcm5hbWUgPT0gbnVsbCB8fCB0aGlzLnBhcGVybmFtZSA9PSAiIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKCLor7floavlhpnor5XljbflkI3np7AiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuaWQgPT0gbnVsbCB8fCB0aGlzLmlkID09ICIiKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UoIuivt+mAieaLqeivleWNt+WIhuexuyIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLmFjdGl2ZSA9IDE7DQogICAgfSwNCiAgICBqaW5ydTIoKSB7DQogICAgICBpZiAodGhpcy5pZGFsbCA9PSBudWxsKSB7DQogICAgICAgIGFsZXJ0KCLoh7PlsJHmt7vliqDkuIDpgZPor5XpopgiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgIH0NCiAgICAgIGxldCBmbGFnID0gdHJ1ZTsNCiAgICAgIHRoaXMuaWRhbGwuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBpdGVtLmZvckVhY2goKGl0ZW0yKSA9PiB7DQogICAgICAgICAgaWYgKGl0ZW0yLnNjb3JlID09IG51bGwpIHsNCiAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgICBpZiAoZmxhZykgew0KICAgICAgICB0aGlzLmFjdGl2ZSA9IDI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydCgi6K+35aGr5YaZ5YiG5pWwIik7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBjaHVhbmdqaWFuKCkgew0KICAgICAgaWYgKHRoaXMuamlnZXNjb3JlID09IG51bGwgfHwgdGhpcy5zdGFydHRpbWU9PW51bGwgfHx0aGlzLmVuZHRpbWU9PW51bGwgfHwgdGhpcy54aWV0aW1lPT1udWxsKSB7DQogICAgICAgIGFsZXJ0KCLor7fovpPlhaXovpPlhaXlrozmlbTmlbDmja4iKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy5pZGFsbC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGxldCBhc2QgPSBbXTsNCiAgICAgICAgaWYgKGl0ZW0uaWQpIHsNCiAgICAgICAgICBhc2QucHVzaChpdGVtLmlkKTsNCiAgICAgICAgICBhc2QucHVzaChpdGVtLnNjb3JlKTsNCiAgICAgICAgICB0aGlzLnRpdGxlaWQucHVzaChhc2QpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGl0ZW0uZm9yRWFjaCgoaXRlbTIpID0+IHsNCiAgICAgICAgICAgIGFzZC5wdXNoKGl0ZW0yLmlkKTsNCiAgICAgICAgICAgIGFzZC5wdXNoKGl0ZW0yLnNjb3JlKTsNCiAgICAgICAgICAgIHRoaXMudGl0bGVpZC5wdXNoKGFzZCk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgdmFyIHN0YXJ0dGltZWQ9bmV3IERhdGUodGhpcy5zdGFydHRpbWUpOw0KICAgICAgdmFyIHBfc3RhcnR0aW1lID0gc3RhcnR0aW1lZC50b0xvY2FsZVN0cmluZygpOw0KICAgICAgdmFyIHhpZXRpbWVkPXRoaXMueGlldGltZTsNCiAgICAgIHZhciBwX3hpZXRpbWU9eGlldGltZWQudG9Mb2NhbGVTdHJpbmcoKQ0KICAgICB2YXIgZW5kdGltZWQ9dGhpcy5lbmR0aW1lOw0KICAgICAgdmFyIHBfZW5kdGltZT1lbmR0aW1lZC50b0xvY2FsZVN0cmluZygpDQogICAgICBjb25zdCBwX3RpdGxlID0gJyInICsgdGhpcy50aXRsZWlkICsgJyInOw0KICAgICAgY29uc3QgcF9uYW1lID0gdGhpcy5wYXBlcm5hbWU7DQogICAgICBjb25zdCBwX3BpZCA9IHRoaXMuZGlkOw0KICAgICAgY29uc3QgcF9zY29yZSA9IHRoaXMuem9uZ3Njb3JlOw0KICAgICAgY29uc3QgcF9qaWdlID0gdGhpcy5qaWdlc2NvcmU7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBhZGRwYXBlcih7IHBfdGl0bGUsIHBfbmFtZSwgcF9waWQsIHBfc2NvcmUsIHBfamlnZSAscF9zdGFydHRpbWUscF94aWV0aW1lLHBfZW5kdGltZX0pOw0KICAgICAgaWYgKHJlcy5kYXRhLm1zZyA9PSAi5re75Yqg5oiQ5YqfIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKCLmt7vliqDmiJDlip8iKTsNCiAgICAgICAgdGhpcy5hY3RpdmUgPSAwOw0KICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UoIua3u+WKoOWksei0pSIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2hhbmdlQWN0aXZlKCRldmVudCkgew0KICAgICAgdGhpcy56aGFuID0gMjsNCiAgICB9LA0KICAgIHJlbW92ZUFjdGl2ZSgkZXZlbnQpIHsNCiAgICAgIHRoaXMuemhhbiA9IDE7DQogICAgfSwNCiAgICBqaW4yKCkgew0KICAgICAgdGhpcy5hY3RpdmUgPSAxOw0KICAgIH0sDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgYWxsdGl0bGVzdW0oKSB7DQogICAgICBsZXQgc3UgPSAwOw0KICAgICAgaWYgKHRoaXMuaWRhbGwpIHsNCiAgICAgICAgdGhpcy5pZGFsbC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgaXRlbS5mb3JFYWNoKChpdGVtMikgPT4gew0KICAgICAgICAgICAgc3UgKz0gMTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIHJldHVybiBzdTsNCiAgICB9LA0KICAgIGFsbHNjb3Jlc3VtKCkgew0KICAgICAgbGV0IHN1ID0gMDsNCiAgICAgIGlmICh0aGlzLmlkYWxsKSB7DQogICAgICAgIHRoaXMuaWRhbGwuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgIGl0ZW0uZm9yRWFjaCgoaXRlbTIpID0+IHsNCiAgICAgICAgICAgIHN1ICs9IE51bWJlcihpdGVtMi5zY29yZSk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgdGhpcy56b25nc2NvcmUgPSBzdTsNCiAgICAgIHJldHVybiBzdTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["CreateTest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateTest.vue","sourceRoot":"src/views/examination/administration","sourcesContent":["<template>\r\n      \r\n  <div class=\"createtest\">\r\n    <el-dialog title=\"选择分类\" :visible.sync=\"dialog\" width=\"30%\">\r\n      <el-tree\r\n        :data=\"titleall\"\r\n        :props=\"defaultProps\"\r\n        accordion\r\n        @node-click=\"handleNodeClick\"\r\n      >\r\n      </el-tree>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialog = false\">关闭</el-button>\r\n        <el-button type=\"primary\" @click=\"huoqu\">选择</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"选择试题\" :visible.sync=\"dialog1\">\r\n      <div class=\"n-top\"></div>\r\n      <div class=\"bottom\">\r\n        <div class=\"n-bottom\">\r\n          <span @click=\"qie(1)\">试题列表</span>\r\n          <span @click=\"qie(2)\">已选试题{{ multipleSelection.length }}</span>\r\n        </div>\r\n        <el-table\r\n          v-if=\"eltable == 1\"\r\n          ref=\"multipleTable\"\r\n          :data=\"titleall1\"\r\n          tooltip-effect=\"dark\"\r\n          style=\"width: 100%\"\r\n          @selection-change=\"handleSelectionChange\"\r\n        >\r\n          <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\r\n          <el-table-column type=\"expand\">\r\n            <template slot-scope=\"props\">\r\n              <el-form\r\n                label-position=\"left\"\r\n                inline\r\n                class=\"demo-table-expand\"\r\n                v-if=\"props.row.title\"\r\n              >\r\n                <div class=\"tigan1\">\r\n                  <span>题干:</span>\r\n                  <span>{{ props.row.title }}</span>\r\n                </div>\r\n                <div class=\"youce\">\r\n                  <div class=\"daan1\">\r\n                    <span>答案:</span>\r\n                    <span v-if=\"props.row.type == 0\">\r\n                      <span>{{ props.row.answer }}</span>\r\n                    </span>\r\n                    <span v-if=\"props.row.type == 2\">\r\n                      <span v-if=\"props.row.answer == 0\">对</span>\r\n                      <span v-if=\"props.row.answer == 1\">错</span>\r\n                    </span>\r\n                  </div>\r\n                  <div class=\"jiexi1\">\r\n                    <span>解析:</span>\r\n                    <span>{{ props.row.analysis || None }}</span>\r\n                  </div>\r\n                  <div class=\"nandu1\">\r\n                    <span>难度:</span>\r\n                    <span v-if=\"props.row.type == 0\"> 简单 </span>\r\n                    <span v-if=\"props.row.type == 1\"> 普通 </span>\r\n                    <span v-if=\"props.row.type == 2\"> 困难 </span>\r\n                  </div>\r\n                </div>\r\n              </el-form>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"题型\">\r\n            <template slot-scope=\"scope\">\r\n              <p v-if=\"scope.row.type === '0'\">单选题</p>\r\n              <p v-if=\"scope.row.type === '1'\">多选题</p>\r\n              <p v-if=\"scope.row.type === '2'\">判断题</p>\r\n              <p v-if=\"scope.row.type === '3'\">填空题</p>\r\n              <p v-if=\"scope.row.type === '4'\">问答题</p>\r\n              <p v-if=\"scope.row.type === '5'\">组合题</p>\r\n              <p v-if=\"scope.row.type === '6'\">录音题</p>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"分类\" prop=\"pid\"></el-table-column>\r\n          <el-table-column prop=\"demo_name\" label=\"试题内容\">\r\n            <template slot-scope=\"scope\">\r\n              <p>{{ scope.row.title }}</p>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"难度\">\r\n            <template slot-scope=\"scope\">\r\n              <p v-if=\"scope.row.difficulty === '0'\">简单</p>\r\n              <p v-if=\"scope.row.difficulty === '1'\">普通</p>\r\n              <p v-if=\"scope.row.difficulty === '2'\">困难</p>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"name\" label=\"创建日期\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.create_time }}\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialog1 = false\">关闭</el-button>\r\n        <el-button type=\"primary\" @click=\"huoqu1\">保存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <div class=\"createtest-top\">\r\n      <div class=\"first\">第一步:创建考试</div>\r\n      <div class=\"second\">第二步:添加试题</div>\r\n      <div class=\"third\">第三步:发布考试</div>\r\n    </div>\r\n    <div class=\"createtest-content\">\r\n      <div class=\"addpaper\" v-if=\"active == 0\">\r\n        <div class=\"first1\">\r\n          <el-radio v-model=\"radio\" label=\"1\">创建新试卷</el-radio>\r\n          <div v-if=\"radio == '1'\" class=\"next1\">\r\n            <table>\r\n              <tr>\r\n                <td>试卷名称</td>\r\n                <td colspan=\"4\">\r\n                  <el-input\r\n                    v-model=\"papername\"\r\n                    placeholder=\"请输入试卷名称\"\r\n                  ></el-input>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>试卷分类</td>\r\n                <td>\r\n                  <el-button type=\"primary\" plain @click=\"dialog = true\"\r\n                    >试卷分类</el-button\r\n                  >\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>组卷方式</td>\r\n                <td><el-button type=\"primary\" plain>选题组卷</el-button></td>\r\n                <td>\r\n                  <el-button type=\"primary\" plain disabled>抽提组卷</el-button>\r\n                </td>\r\n                <td>\r\n                  <el-button type=\"primary\" plain disabled>随机组卷</el-button>\r\n                </td>\r\n                <td>\r\n                  <el-button type=\"primary\" plain disabled>综合组卷</el-button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>答题时长</td>\r\n                <td>\r\n                  <el-button type=\"primary\" plain>整卷限制时长</el-button>\r\n                </td>\r\n                <td>\r\n                  <el-button type=\"primary\" plain disabled\r\n                    >单题限制时长</el-button\r\n                  >\r\n                </td>\r\n              </tr>\r\n            </table>\r\n            <el-button type=\"primary\" @click=\"jin1\">下一步</el-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"second1\">\r\n          <el-radio v-model=\"radio\" label=\"2\">从考试库中选择一张试卷</el-radio>\r\n          <div v-if=\"radio == '2'\" class=\"next2\">\r\n            <el-button type=\"primary\" plain>选择试卷</el-button><br />\r\n            <el-button type=\"primary\" @click=\"jin2\">下一步</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"addtitle\" v-if=\"active == 1\">\r\n        <div class=\"left\">\r\n          <div>总题数{{ alltitlesum }}</div>\r\n          <div>当前总分{{ allscoresum }}</div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <div class=\"title\">{{ this.papername }}</div>\r\n          <div class=\"da\" v-for=\"item of idall\">\r\n            <div class=\"xuan\" v-for=\"item2 of item\">\r\n              {{ item2.title }}\r\n              <input type=\"text\" placeholder=\"分数\" v-model=\"item2.score\" />\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"content\"\r\n            @mouseover.self=\"changeActive($event)\"\r\n            @mouseout=\"removeActive($event)\"\r\n          >\r\n            <div class=\"tubiao\" v-if=\"zhan == 1\">\r\n              <span class=\"jia\">+</span>\r\n              <span class=\"chuang\">创建新的答题</span>\r\n            </div>\r\n            <div class=\"xuanxiang\" v-if=\"zhan == 2\">\r\n              <el-button type=\"primary\" plain>单选题</el-button>\r\n              <el-button type=\"primary\" plain disabled>多选题</el-button>\r\n              <el-button type=\"primary\" plain>判断题</el-button>\r\n              <el-button type=\"primary\" plain>填空题</el-button>\r\n              <el-button type=\"primary\" plain>问答题</el-button>\r\n              <el-button type=\"primary\" plain disabled>组合题</el-button>\r\n              <el-button type=\"primary\" plain disabled>录音题</el-button>\r\n            </div>\r\n          </div>\r\n          <el-button type=\"primary\" @click=\"titletype('0')\" plain\r\n            >单选题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"titletype('1')\" plain disabled\r\n            >多选题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"titletype('2')\" plain\r\n            >判断题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"titletype('3')\" plain\r\n            >填空题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"titletype('4')\" plain\r\n            >问答题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"titletype('5')\" plain disabled\r\n            >组合题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"titletype('6')\" plain disabled\r\n            >录音题</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"jinru2\">下一步</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"publish\" v-if=\"active == 2\">\r\n        <input type=\"text\" placeholder=\"请输入及格分数\" v-model=\"jigescore\" />\r\n        <el-date-picker\r\n          v-model=\"starttime\"\r\n          type=\"datetime\"\r\n          placeholder=\"选择开始时间\"\r\n        >\r\n        </el-date-picker>\r\n        <el-date-picker\r\n          v-model=\"endtime\"\r\n          type=\"datetime\"\r\n          placeholder=\"选择结束时间\"\r\n        >\r\n        </el-date-picker>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"考试时长（分钟为单位\"\r\n          v-model=\"xietime\"\r\n        />\r\n        <button class=\"chuangjian\" @click=\"chuangjian\">创建考试</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { gettitle1 } from \"network/typetitle\";\r\nimport { gettitle } from \"network/topic\";\r\nimport { addpaper } from \"network/paper\";\r\nexport default {\r\n  props: {},\r\n  data() {\r\n    return {\r\n      eltable: 1,\r\n      did: null,\r\n      id: null,\r\n      dialog: false,\r\n      dialog1: false,\r\n      multipleSelection: [],\r\n      idall: null,\r\n      titleid: [],\r\n      xietime: null,\r\n      starttime: null,\r\n      endtime: null,\r\n      fangshi: \"选题组卷\",\r\n      shicahng: \"整卷限制时长\",\r\n      active: 0,\r\n      //       创建试卷方式     新建还是从试卷库中选择一张试卷\r\n      radio: \"1\",\r\n      zongscore: 0,\r\n      jigescore: null,\r\n      papername: null,\r\n      titleall: null,\r\n      titleall1: null,\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"demo_name\",\r\n      },\r\n      //第二步\r\n      zhan: 1,\r\n    };\r\n  },\r\n  created() {\r\n    this.gettitle1();\r\n  },\r\n  methods: {\r\n    async gettitle1() {\r\n      const res = await gettitle1();\r\n      this.titleall = res.data.data;\r\n    },\r\n    handleNodeClick(val) {\r\n      if (val.level != 3) {\r\n        this.$message(\"请选择三级分类\");\r\n        return false;\r\n      }\r\n      this.did = val.id;\r\n    },\r\n    huoqu() {\r\n      this.id = this.did;\r\n      this.dialog = false;\r\n    },\r\n    async titletype(type) {\r\n      const res = await gettitle({ type: type });\r\n      this.titleall1 = res.data.list;\r\n      this.dialog1 = true;\r\n    },\r\n    huoqu1() {\r\n      if (this.idall == null) {\r\n        this.idall = [];\r\n      }\r\n\r\n      var newmul = [];\r\n      this.multipleSelection.forEach((item) => {\r\n        item.score = null;\r\n        newmul.push(item);\r\n      });\r\n      this.idall.push(newmul);\r\n      this.dialog1 = false;\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    qie(val) {\r\n      this.eltable == val;\r\n    },\r\n    next() {\r\n      if (this.active++ > 2) this.active = 0;\r\n    },\r\n    jin1() {\r\n      if (this.papername == null || this.papername == \"\") {\r\n        this.$message(\"请填写试卷名称\");\r\n        return false;\r\n      }\r\n      if (this.id == null || this.id == \"\") {\r\n        this.$message(\"请选择试卷分类\");\r\n        return false;\r\n      }\r\n      this.active = 1;\r\n    },\r\n    jinru2() {\r\n      if (this.idall == null) {\r\n        alert(\"至少添加一道试题\");\r\n        return false;\r\n      } else {\r\n      }\r\n      let flag = true;\r\n      this.idall.forEach((item) => {\r\n        item.forEach((item2) => {\r\n          if (item2.score == null) {\r\n            flag = false;\r\n            return false;\r\n          }\r\n        });\r\n      });\r\n      if (flag) {\r\n        this.active = 2;\r\n      } else {\r\n        alert(\"请填写分数\");\r\n      }\r\n    },\r\n    async chuangjian() {\r\n      if (this.jigescore == null || this.starttime==null ||this.endtime==null || this.xietime==null) {\r\n        alert(\"请输入输入完整数据\");\r\n        return false;\r\n      }\r\n      this.idall.forEach((item) => {\r\n        let asd = [];\r\n        if (item.id) {\r\n          asd.push(item.id);\r\n          asd.push(item.score);\r\n          this.titleid.push(asd);\r\n        } else {\r\n          item.forEach((item2) => {\r\n            asd.push(item2.id);\r\n            asd.push(item2.score);\r\n            this.titleid.push(asd);\r\n          });\r\n        }\r\n      });\r\n      var starttimed=new Date(this.starttime);\r\n      var p_starttime = starttimed.toLocaleString();\r\n      var xietimed=this.xietime;\r\n      var p_xietime=xietimed.toLocaleString()\r\n     var endtimed=this.endtime;\r\n      var p_endtime=endtimed.toLocaleString()\r\n      const p_title = '\"' + this.titleid + '\"';\r\n      const p_name = this.papername;\r\n      const p_pid = this.did;\r\n      const p_score = this.zongscore;\r\n      const p_jige = this.jigescore;\r\n      const res = await addpaper({ p_title, p_name, p_pid, p_score, p_jige ,p_starttime,p_xietime,p_endtime});\r\n      if (res.data.msg == \"添加成功\") {\r\n        this.$message(\"添加成功\");\r\n        this.active = 0;\r\n        this.$router.go(0)\r\n      } else {\r\n        this.$message(\"添加失败\");\r\n      }\r\n    },\r\n    changeActive($event) {\r\n      this.zhan = 2;\r\n    },\r\n    removeActive($event) {\r\n      this.zhan = 1;\r\n    },\r\n    jin2() {\r\n      this.active = 1;\r\n    },\r\n  },\r\n  computed: {\r\n    alltitlesum() {\r\n      let su = 0;\r\n      if (this.idall) {\r\n        this.idall.forEach((item) => {\r\n          item.forEach((item2) => {\r\n            su += 1;\r\n          });\r\n        });\r\n      }\r\n\r\n      return su;\r\n    },\r\n    allscoresum() {\r\n      let su = 0;\r\n      if (this.idall) {\r\n        this.idall.forEach((item) => {\r\n          item.forEach((item2) => {\r\n            su += Number(item2.score);\r\n          });\r\n        });\r\n      }\r\n      this.zongscore = su;\r\n      return su;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.createtest-top {\r\n  height: 60px;\r\n  width: 100%;\r\n  background-color: white;\r\n  display: flex;\r\n  border-bottom: 1px solid blue;\r\n}\r\n.createtest-top .first,\r\n.second,\r\n.third {\r\n  flex: 1;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n.createtest-content .addpaper {\r\n  width: 100%;\r\n  margin-top: 50px;\r\n  background-color: #fff;\r\n}\r\n.createtest-content .addpaper .first1,\r\n.second1 {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n  border: 1px solid black;\r\n}\r\n.createtest-content .addpaper .first1 {\r\n}\r\n.createtest-content .addpaper .second1 {\r\n  margin-top: 50px;\r\n}\r\n.el-radio {\r\n  margin-left: 30px;\r\n}\r\n.next1 {\r\n  margin: 50px 50px;\r\n}\r\n.next1 tr {\r\n  height: 80px;\r\n}\r\n.next1 td {\r\n  width: 100px;\r\n}\r\n.next2 {\r\n  margin: 50px 50px;\r\n}\r\n.next2 .el-button:last-child {\r\n  margin-top: 30px;\r\n}\r\n</style>\r\n<style scode>\r\n.addtitle {\r\n  margin-top: 50px;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.addtitle .left,\r\n.right {\r\n  background-color: #fff;\r\n}\r\n.addtitle .left {\r\n  width: 20%;\r\n  height: 70px;\r\n  margin-left: 30px;\r\n}\r\n.addtitle .left div {\r\n  margin-left: 25px;\r\n  font-size: 18px;\r\n  line-height: 35px;\r\n  height: 50%;\r\n}\r\n.addtitle .right {\r\n  width: 75%;\r\n  margin-left: 30px;\r\n}\r\n.addtitle .right .title {\r\n  width: 100%;\r\n  height: 60px;\r\n  text-align: center;\r\n  line-height: 60px;\r\n  font-size: 25px;\r\n  border-bottom: 1px solid black;\r\n}\r\n.addtitle .right .content {\r\n  width: 95%;\r\n  height: 150px;\r\n  margin: 0 auto;\r\n  margin-top: 25px;\r\n  border: 1px solid black;\r\n}\r\n.addtitle .right .content .tubiao {\r\n  width: 160px;\r\n  height: 80px;\r\n  margin: auto;\r\n  margin-top: 30px;\r\n}\r\n.addtitle .right .content .tubiao .jia {\r\n  display: block;\r\n  width: 50px;\r\n  color: white;\r\n  font-size: 30px;\r\n  margin: 0 auto;\r\n  border-radius: 15px;\r\n  background-color: blue;\r\n  height: 50%;\r\n  text-align: center;\r\n  line-height: 40px;\r\n}\r\n.addtitle .right .content .tubiao .chuang {\r\n  display: block;\r\n  text-align: center;\r\n  height: 50%;\r\n  line-height: 40px;\r\n}\r\n.addtitle .right .content .xuanxiang {\r\n}\r\n.demo-table-expand {\r\n  display: flex;\r\n  font-size: 20px;\r\n}\r\n.el-form .tigan1 {\r\n  flex: 1;\r\n  margin-left: 200px;\r\n  font-size: 20px;\r\n}\r\n.youce {\r\n  flex: 1;\r\n}\r\n.el-form .daan1,\r\n.nandu1,\r\n.jiexi1 {\r\n  margin-top: 15px;\r\n}\r\n.n-bottom span {\r\n  display: inline-block;\r\n  width: 100px;\r\n  height: 35px;\r\n  margin-left: 15px;\r\n  color: #fff;\r\n  line-height: 35px;\r\n  text-align: center;\r\n  background-color: blue;\r\n}\r\n.xuan {\r\n  width: 95%;\r\n  padding: 20px;\r\n  margin: 0 auto;\r\n  margin-top: 25px;\r\n  border: 1px solid black;\r\n}\r\n</style>"]}]}